{"version":3,"file":"navigation.min.js","sources":["../src/navigation.js"],"sourcesContent":["define(['jquery'], function($) {\n    return {\n        init: function(params) {\n            let linkUrl = params.linkUrl || '/moodle/local/learningplan/index.php';\n            let linkLabel = params.linkLabel || 'Lernplan';\n\n            /**\n             * Try to insert the link into the navbar.\n             */\n            function injectNavbarLink() {\n                let $navContainer = $(\"div.primary-navigation nav.moremenu ul.nav\");\n\n                if ($navContainer.length && $navContainer.find(\"#learningplan-nav-item\").length === 0) {\n                    let $li = $('<li>', {\n                        id: 'learningplan-nav-item',\n                        class: 'nav-item'\n                    });\n                    let $a = $('<a>', {\n                        href: linkUrl,\n                        class: 'nav-link',\n                        text: linkLabel\n                    });\n                    $li.append($a);\n                    $navContainer.append($li);\n\n                    return true;\n                }\n                return false;\n            }\n\n            // Try to insert the link immediately\n            if (!injectNavbarLink()) {\n                // If the navigation has not yet been rendered, use a MutationObserver.\n                let observer = new MutationObserver(function(mutations, observerInstance) {\n                    if (injectNavbarLink()) {\n                        observerInstance.disconnect();\n                    }\n                });\n                observer.observe(document.body, {childList: true, subtree: true});\n            }\n        }\n    };\n});\n"],"names":["define","$","init","params","linkUrl","linkLabel","injectNavbarLink","$navContainer","length","find","$li","id","class","$a","href","text","append","MutationObserver","mutations","observerInstance","disconnect","observe","document","body","childList","subtree"],"mappings":"AAAAA,uCAAO,CAAC,WAAW,SAASC,SACjB,CACHC,KAAM,SAASC,YACPC,QAAUD,OAAOC,SAAW,uCAC5BC,UAAYF,OAAOE,WAAa,oBAK3BC,uBACDC,cAAgBN,EAAE,iDAElBM,cAAcC,QAAkE,IAAxDD,cAAcE,KAAK,0BAA0BD,OAAc,KAC/EE,IAAMT,EAAE,OAAQ,CAChBU,GAAI,wBACJC,MAAO,aAEPC,GAAKZ,EAAE,MAAO,CACda,KAAMV,QACNQ,MAAO,WACPG,KAAMV,mBAEVK,IAAIM,OAAOH,IACXN,cAAcS,OAAON,MAEd,SAEJ,MAINJ,mBAAoB,CAEN,IAAIW,kBAAiB,SAASC,UAAWC,kBAChDb,oBACAa,iBAAiBC,gBAGhBC,QAAQC,SAASC,KAAM,CAACC,WAAW,EAAMC,SAAS"}