{"version":3,"file":"navigation.min.js","sources":["../src/navigation.js"],"sourcesContent":["define(['jquery'], function($) {\n    console.log(\"navbar.js loaded.\");\n    return {\n        init: function(params) {\n            console.log(\"Navbar injection module loaded.\");\n            // Standardwerte – können über params überschrieben werden.\n            var linkUrl = params.linkUrl || '/moodle/local/learningplan/index.php';\n            var linkLabel = params.linkLabel || 'Lernplan';\n\n            // Funktion, die versucht, den Link in die Navbar einzufügen.\n            /**\n             *\n             */\n            function injectNavbarLink() {\n                // In Boost befindet sich die Primary Navigation typischerweise in einem <nav> mit Klassen wie \"moremenu\" und\n                // \"navbar-nav\".\n                var $navContainer = $(\"div.primary-navigation nav.moremenu ul.nav\");\n                console.log($(\"div.primary-navigation nav.moremenu ul.nav\").length);\n                if ($navContainer.length && $navContainer.find(\"#learningplan-nav-item\").length === 0) {\n                    var $li = $('<li>', {\n                        id: 'learningplan-nav-item',\n                        class: 'nav-item'\n                    });\n                    var $a = $('<a>', {\n                        href: linkUrl,\n                        class: 'nav-link',\n                        text: linkLabel\n                    });\n                    $li.append($a);\n                    $navContainer.append($li);\n                    console.log(\"Navbar link injected.\");\n                    return true;\n                }\n                return false;\n            }\n\n            // Versuch, den Link sofort einzufügen:\n            if (!injectNavbarLink()) {\n                // Falls die Navigation noch nicht gerendert ist, einen MutationObserver einsetzen.\n                var observer = new MutationObserver(function(mutations, observerInstance) {\n                    if (injectNavbarLink()) {\n                        observerInstance.disconnect();\n                    }\n                });\n                observer.observe(document.body, {childList: true, subtree: true});\n            }\n        }\n    };\n});\n"],"names":["define","$","console","log","init","params","linkUrl","linkLabel","injectNavbarLink","$navContainer","length","find","$li","id","class","$a","href","text","append","MutationObserver","mutations","observerInstance","disconnect","observe","document","body","childList","subtree"],"mappings":"AAAAA,uCAAO,CAAC,WAAW,SAASC,UACxBC,QAAQC,IAAI,qBACL,CACHC,KAAM,SAASC,QACXH,QAAQC,IAAI,uCAERG,QAAUD,OAAOC,SAAW,uCAC5BC,UAAYF,OAAOE,WAAa,oBAM3BC,uBAGDC,cAAgBR,EAAE,iDACtBC,QAAQC,IAAIF,EAAE,8CAA8CS,QACxDD,cAAcC,QAAkE,IAAxDD,cAAcE,KAAK,0BAA0BD,OAAc,KAC/EE,IAAMX,EAAE,OAAQ,CAChBY,GAAI,wBACJC,MAAO,aAEPC,GAAKd,EAAE,MAAO,CACde,KAAMV,QACNQ,MAAO,WACPG,KAAMV,mBAEVK,IAAIM,OAAOH,IACXN,cAAcS,OAAON,KACrBV,QAAQC,IAAI,0BACL,SAEJ,EAINK,oBAEc,IAAIW,kBAAiB,SAASC,UAAWC,kBAChDb,oBACAa,iBAAiBC,gBAGhBC,QAAQC,SAASC,KAAM,CAACC,WAAW,EAAMC,SAAS"}