define("local_learningplan/button",["jquery","core/ajax"],(function($,ajax){return{init:function(){console.log("JavaScript wird geladen!"),$(".learningplan-save-button").each((function(){var button=$(this),courseId=button.data("course-id"),sectionId=button.data("section-id"),userId=button.data("user-id");ajax.call([{methodname:"local_learningplan_check_section_data",args:{courseid:courseId,sectionid:sectionId,userid:userId},done:function(response){console.log("Server-Antwort learningplan_check: "+response),response?button.text("Entfernen"):button.text("Speichern")},fail:function(error){console.error("Fehler:",error)}}])})),$(document).on("click",".learningplan-save-button",(function(){var button=$(this),courseId=button.data("course-id"),sectionId=button.data("section-id"),userId=button.data("user-id"),currentText=button.text().trim();console.log("currentText:"+currentText),"Speichern"===currentText?ajax.call([{methodname:"local_learningplan_save_section_data",args:{courseid:courseId,sectionid:sectionId,userid:userId},done:function(){button.text("Entfernen").prop("disabled",!1)},fail:function(error){console.log("Fehler:",error),alert("Fehler beim Speichern der Daten.")}}]):"Entfernen"===currentText&&ajax.call([{methodname:"local_learningplan_delete_section_data",args:{courseid:courseId,sectionid:sectionId,userid:userId},done:function(){button.text("Speichern").prop("disabled",!1)},fail:function(error){console.log("Fehler:",error),alert("Fehler beim Entfernen der Daten.")}}])}))}}}));

//# sourceMappingURL=button.min.js.map