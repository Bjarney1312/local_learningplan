{"version":3,"file":"learningplan.min.js","sources":["../src/learningplan.js"],"sourcesContent":["define(['jquery', 'core/ajax'], function($, ajax) {\n return {\n        init: function() {\n            $(document).on('click', '.remove-section-btn', function() {\n                let button = $(this);\n                let courseId = button.data('courseid');\n                let sectionId = button.data('sectionid');\n                let userId = button.data('userid');\n\n                console.log('Neue Javascript wurde geladen');\n\n                ajax.call([{\n                    methodname: 'local_learningplan_delete_section_data',\n                    args: {\n                        courseid: courseId,\n                        sectionid: sectionId,\n                        userid: userId\n                    },\n                    done: function() {\n                        console.log('Section aus Datenbank gelöscht');\n                        // Die gesamte Tabellenzeile entfernen\n                        $('tr[data-sectionid=\"' + sectionId + '\"]').fadeOut(300, function() {\n                            $(this).remove();\n                        });\n                    },\n                    fail: function(error) {\n                        console.error('Fehler beim Entfernen der Section:', error);\n                    }\n                }]);\n            });\n\n            console.log('Datepicker wird initialisiert');\n\n            /**\n             * DATEPICKER INITIALISIEREN\n             */\n// Event Listener für das Ändern des Datums\n            $(document).ready(function() {\n                // Event Listener für das Ändern des Datums\n                $('.datepicker').on('change', function() {\n                    let input = $(this);\n                    let courseId = input.data('courseid');\n                    let sectionId = input.data('sectionid');\n                    let userId = input.data('userid');\n                    let newDeadline = input.val(); // Holt das Datum im YYYY-MM-DD Format\n\n                    console.log('Neues Datum gewählt:', newDeadline);\n\n                    // AJAX-Request zum Speichern des neuen Datums\n                    ajax.call([{\n                        methodname: 'local_learningplan_update_deadline',\n                        args: {\n                            courseid: courseId,\n                            sectionid: sectionId,\n                            userid: userId,\n                            deadline: newDeadline\n                        },\n                        done: function() {\n                            console.log('Deadline erfolgreich gespeichert!');\n                        },\n                        fail: function(error) {\n                            console.error('Fehler beim Speichern der Deadline:', error);\n                        }\n                    }]);\n                });\n            });\n\n\n        }\n    };\n});\n"],"names":["define","$","ajax","init","document","on","button","this","courseId","data","sectionId","userId","console","log","call","methodname","args","courseid","sectionid","userid","done","fadeOut","remove","fail","error","ready","input","newDeadline","val","deadline"],"mappings":"AAAAA,yCAAO,CAAC,SAAU,cAAc,SAASC,EAAGC,YACpC,CACAC,KAAM,WACFF,EAAEG,UAAUC,GAAG,QAAS,uBAAuB,eACvCC,OAASL,EAAEM,MACXC,SAAWF,OAAOG,KAAK,YACvBC,UAAYJ,OAAOG,KAAK,aACxBE,OAASL,OAAOG,KAAK,UAEzBG,QAAQC,IAAI,iCAEZX,KAAKY,KAAK,CAAC,CACPC,WAAY,yCACZC,KAAM,CACFC,SAAUT,SACVU,UAAWR,UACXS,OAAQR,QAEZS,KAAM,WACFR,QAAQC,IAAI,kCAEZZ,EAAE,sBAAwBS,UAAY,MAAMW,QAAQ,KAAK,WACrDpB,EAAEM,MAAMe,aAGhBC,KAAM,SAASC,OACXZ,QAAQY,MAAM,qCAAsCA,cAKhEZ,QAAQC,IAAI,iCAMZZ,EAAEG,UAAUqB,OAAM,WAEdxB,EAAE,eAAeI,GAAG,UAAU,eACtBqB,MAAQzB,EAAEM,MACVC,SAAWkB,MAAMjB,KAAK,YACtBC,UAAYgB,MAAMjB,KAAK,aACvBE,OAASe,MAAMjB,KAAK,UACpBkB,YAAcD,MAAME,MAExBhB,QAAQC,IAAI,uBAAwBc,aAGpCzB,KAAKY,KAAK,CAAC,CACPC,WAAY,qCACZC,KAAM,CACFC,SAAUT,SACVU,UAAWR,UACXS,OAAQR,OACRkB,SAAUF,aAEdP,KAAM,WACFR,QAAQC,IAAI,sCAEhBU,KAAM,SAASC,OACXZ,QAAQY,MAAM,sCAAuCA"}